{% extends "base.html" %}
{% block title %}Allocation Details{% endblock %}

{% block content %}

<h3 class="mb-3">Allocation Details</h3>
<div class="card shadow-sm mb-3">
    <div class="card-body">
        <h4 class="mb-3">{{ event.title }}</h4>
        <p><b>Description:</b> {{ event.description }}</p>
        <p class="mb-1"><b>Start:</b> {{ event.start_time }}</p>
        <p class="mb-3"><b>End:</b> {{ event.end_time }}</p>
        {% if resources|length == 0 %}
            <div class="alert alert-warning mt-3">
                No resources allocated for this event.
            </div>
        {% endif %}
    </div>
</div>

<div class="card shadow-sm">
    <div class="card-body">

        <h5 class="mb-3 d-flex justify-content-between align-items-center">
            <span>Allocated Resources</span>
            <a href="{{ url_for('edit_allocation', event_id=event.id) }}"
               class="btn btn-primary btn-sm">
                Edit
            </a>
        </h5>

        {% if resources|length > 0 %}
        <ul class="list-group">
            {% for r in resources %}
            <li class="list-group-item">
                <b>{{ r.name }}</b><br>
                <small class="text-muted">{{ r.resource_type }}</small>
            </li>
            {% endfor %}
        </ul>
        {% else %}
            <div class="alert alert-secondary">No resources allocated.</div>
        {% endif %}

    </div>
</div>

<a href="{{ url_for('allocations') }}" class="btn btn-secondary mt-3">Back</a>

{% endblock %}
